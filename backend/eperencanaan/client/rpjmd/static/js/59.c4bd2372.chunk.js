(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{265:function(a,e,t){a.exports=t.p+"static/media/loading.557336d4.gif"},382:function(a,e,t){"use strict";t.r(e);var n=t(272),l=t(104),s=t(105),o=t(107),i=t(106),r=t(108),c=t(109),d=t(1),u=t.n(d),m=t(13),g=t(2),p=t(3),h=t(4),f=t(27),E=t(28),v=t(17),P=t(11),S=t(8),b=t(29),k=t(7),j=t(26),y=t(5),C=t(25),D=t(14),x=t(9),T=t(10),w=t(12),N=t(269),I=t.n(N),O=t(268),A=t(265),R=t.n(A),_=function(a){function e(a){var t;return Object(l.a)(this,e),(t=Object(o.a)(this,Object(i.a)(e).call(this,a))).componentWillMount=function(){t.getData()},t.handleChange=function(a){return function(e){var l=parseInt(e.target.attributes.getNamedItem("data-number").value);if(1===l){var s=t.state.dataTest.map(function(l,s){return a!==s?l:(t.setState({dataPilih:l}),Object(n.a)({},l,{name:e.target.value}))});t.setState({dataTest:s})}else if(2===l){var o=t.state.dataTest.map(function(l,s){return a!==s?l:(t.setState({dataPilih:l}),Object(n.a)({},l,{age:e.target.value}))});t.setState({dataTest:o})}}},t.changePesan=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";null===a?t.setState({pesan:""}):t.setState({pesan:u.a.createElement(m.a,{color:e},a)}),setTimeout(function(){t.setState({pesan:""})},3e3)},t.setData=function(a){a.status&&t.setState({dataAll:a.data,jumlahPage:a.jumlahPage,jumlahAll:a.jumlahAll})},t.getData=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.setState({loading:!0});var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("rpjmd",localStorage.getItem("codexv-rpjmd")),e.append("search",t.state.pencarian),I.a.post(O.apiRoot+"rpjmd/menyusun/sasaran/page-"+a,e).then(function(a){t.setData(a.data),t.setState({loading:!1})}).catch(function(a){console.log(a),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.getCek=function(a){t.setState({loading:!0});var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("rpjmd",localStorage.getItem("codexv-rpjmd")),e.append("urusan",1),e.append("bidang",1),I.a.post(O.apiRoot+"rpjmd/get-data/opd",e).then(function(a){a.data.status&&t.setState({dataTambah:a.data.data}),t.setState({loading:!1}),console.log(a.data),console.log("-------------")}).catch(function(a){console.log(a),t.setState({loading:!1})})},t.cekSubmit=function(a){a.preventDefault(),t.getCek(16),t.setState({loading:!0});var e;e=O.apiRoot+"rpjmd/menyusun/perumusan-pagu/page-1";var n=new FormData;n.append("session",localStorage.getItem("codexv-session")),n.append("rpjmd",localStorage.getItem("codexv-rpjmd")),n.append("search",""),I.a.post(e,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){a.data.status?(t.modalCreateClose(),t.getData(),t.changePesan(a.data.pesan)):t.changePesan(a.data.pesan,"warning"),t.setState({loading:!1}),console.log(a.data)}).catch(function(a){console.log(a),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleSubmit=function(a){a.preventDefault(),t.setState({loading:!0});var e="";"Edit"===t.state.aksi?e=O.apiRoot+"rpjmd/menyusun/sasaran/update":"Tambah"===t.state.aksi&&(e=O.apiRoot+"rpjmd/menyusun/sasaran/create"),e=O.apiRoot+"rpjmd/menyusun/sasaran/create";var n=new FormData;n.append("session",localStorage.getItem("codexv-session")),n.append("rpjmd",localStorage.getItem("codexv-rpjmd")),n.append("sasaran_id",t.state.dataPilih.sasaran_id),n.append("sasaran_nama",t.state.dataPilih.sasaran_nama),n.append("tujuan_id",t.state.dataPilih.tujuan_id),I.a.post(e,n,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){a.data.status?(t.modalCreateClose(),t.getData(),t.changePesan(a.data.pesan)):t.changePesan(a.data.pesan,"warning"),t.setState({loading:!1}),console.log(a.data)}).catch(function(a){console.log(a),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleDelete=function(){t.setState({loading:!0});var a=new FormData;a.append("session",localStorage.getItem("codexv-session")),a.append("id",t.state.dataPilih.sasaran_id),I.a.post(O.apiRoot+"rpjmd/menyusun/sasaran/delete",a).then(function(a){a.data.status?(t.modalDelete(),t.getData(),t.changePesan(a.data.pesan)):t.changePesan(a.data.pesan,"warning"),t.setState({loading:!1}),console.log(a)}).catch(function(a){console.log(a),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleCariSubmit=function(a){a.preventDefault(),t.getData()},t.changePage=function(a){t.setState({page:a}),t.getData(a)},t.pageNation=function(){var a=[];t.state.page>1?a.push(u.a.createElement(g.a,{onClick:function(){return t.changePage(t.state.page-1)},key:0},u.a.createElement(p.a,{previous:!0,tag:"button"},"Prev"))):a.push(u.a.createElement(g.a,{disabled:!0,key:0},u.a.createElement(p.a,{previous:!0,tag:"button"},"Prev")));for(var e=!1,n=!1,l=function(l){n=e,e=!1,l+2>=t.state.page&&l-2<=t.state.page&&(e=!0),1!==l&&l!==t.state.jumlahPage||(e=!0),e?l===t.state.page?a.push(u.a.createElement(g.a,{active:!0,key:l},u.a.createElement(p.a,{tag:"button"},l))):a.push(u.a.createElement(g.a,{key:l,onClick:function(){return t.changePage(l)}},u.a.createElement(p.a,{tag:"button"},l))):n!==e&&a.push(u.a.createElement(g.a,{key:l,disabled:!0},u.a.createElement(p.a,{tag:"button"},"...")))},s=1;s<=t.state.jumlahPage;s++)l(s);return t.state.page<t.state.jumlahPage?a.push(u.a.createElement(g.a,{onClick:function(){return t.changePage(t.state.page+1)},key:t.state.jumlahPage+2},u.a.createElement(p.a,{next:!0,tag:"button"},"Next"))):a.push(u.a.createElement(g.a,{disabled:!0,key:t.state.jumlahPage+2},u.a.createElement(p.a,{next:!0,tag:"button"},"Next"))),u.a.createElement(h.a,null,a)},t.dataPilihAwal={id:0,name:"0",ageid:0},t.state={loading:!1,dataAll:[],dataTest:[{id:1,name:"aka",age:15},{id:2,name:"chiro",age:20}],jumlahPage:1,modalCreate:!1,modalDelete:!1,dataPilih:t.dataPilihAwal,dataTambah:[],pencarian:"",page:1,aksi:"Tambah",name:"",age:0,edit:0},document.title="Menyusun Sasaran",t.modalPesan=t.modalPesan.bind(Object(c.a)(Object(c.a)(t))),t.handlePencarianChange=t.handlePencarianChange.bind(Object(c.a)(Object(c.a)(t))),t}return Object(r.a)(e,a),Object(s.a)(e,[{key:"handlePencarianChange",value:function(a){this.setState({pencarian:a.target.value})}},{key:"modalCreateClose",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({modalCreate:!1})}},{key:"modalCreate",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===a.length?this.setState({dataPilih:this.dataPilihAwal}):(this.setState({dataPilih:a}),console.log(a))}},{key:"modalPesan",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({modalPesan:!this.state.modalPesan,dataPilih:a})}},{key:"test",value:function(a){}},{key:"cek",value:function(a){0!==this.state.edit&&this.modalPesan()}},{key:"edit",value:function(a){this.setState({dataPilih:this.dataPilihAwal,edit:a.id}),console.log(this.state.dataPilih)}},{key:"simpan",value:function(a){this.setState({edit:0}),console.log(this.state.dataPilih)}},{key:"isi",value:function(){var a=this;return this.state.loading?u.a.createElement("div",null,u.a.createElement("img",{src:R.a,alt:"logo"})):u.a.createElement("div",null,this.state.pesan,u.a.createElement(f.a,null,u.a.createElement(E.a,{xs:"128",md:"10"},u.a.createElement(v.a,{method:"post",onSubmit:this.handleCariSubmit,className:"form-horizontal"},u.a.createElement(P.a,{row:!0},u.a.createElement(E.a,{xs:"9",md:"5"},u.a.createElement(S.a,{type:"text",onBlur:this.test,placeholder:"Pencarian"})),u.a.createElement(E.a,{xs:"3",md:"2"},u.a.createElement(b.a,{color:"primary"},"Cari"))))),u.a.createElement(E.a,{xs:"12",md:"2"},u.a.createElement(b.a,{color:"info",onClick:function(){a.setState({aksi:"Tambah"}),a.modalCreate()},className:"mr-1"},"Tambah"))),u.a.createElement(k.a,{responsive:!0,striped:!0},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",null,"No"),u.a.createElement("th",null,"Tujuan"),u.a.createElement("th",null,"Sasaran"),u.a.createElement("th",null,"Aksi"))),u.a.createElement("tbody",null,this.state.dataTest.map(function(e,t){return e.id!==a.state.edit?e?u.a.createElement("tr",{key:t},u.a.createElement("td",null,20*(a.state.page-1)+t+1),u.a.createElement("td",null,e.name),u.a.createElement("td",null,e.age),u.a.createElement("td",null,u.a.createElement(b.a,{color:"info",onClick:function(){a.edit(e)},className:"mr-1"},"Edit"))):null:e?u.a.createElement("tr",{key:t},u.a.createElement("td",null,20*(a.state.page-1)+t+1),u.a.createElement("td",null,u.a.createElement(S.a,{type:"text",value:e.name,"data-number":"1",onChange:a.handleChange(t),onBlur:a.test})),u.a.createElement("td",null,u.a.createElement(S.a,{type:"text",value:e.age,"data-number":"2",onChange:a.handleChange(t),onBlur:a.test})),u.a.createElement("td",null,u.a.createElement(b.a,{color:"success",onClick:function(){a.simpan(e)},className:"mr-1"},"Simpan"))):null}))),this.pageNation())}},{key:"render",value:function(){return u.a.createElement("div",{className:"animated fadeIn"},u.a.createElement(f.a,null,u.a.createElement(E.a,{xs:"12",lg:"12"},u.a.createElement(j.a,null,u.a.createElement(y.a,null,u.a.createElement("i",{className:"fa fa-align-justify"})," ",document.title),u.a.createElement(C.a,null,u.a.createElement(v.a,{method:"post",onSubmit:this.cekSubmit,className:"form-horizontal",id:"form-cek"},u.a.createElement(b.a,{color:"primary",type:"submit",form:"form-cek",value:"Submit"},"cek Tes")),u.a.createElement(D.a,{isOpen:this.state.modalPesan,toggle:this.modalPesan,className:this.props.className},u.a.createElement(x.a,{toggle:this.modalPesan},"Hapus Data"),u.a.createElement(T.a,null,"Apakah Anda Yakin Menghapus Data?"),u.a.createElement(w.a,null,u.a.createElement(b.a,{color:"danger",onClick:this.handleDelete},"Ya")," ",u.a.createElement(b.a,{color:"secondary",onClick:this.modalPesan},"Batal"))),this.isi())))))}}]),e}(d.Component);e.default=_}}]);
//# sourceMappingURL=59.c4bd2372.chunk.js.map