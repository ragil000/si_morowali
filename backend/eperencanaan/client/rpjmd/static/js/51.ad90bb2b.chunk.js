(window.webpackJsonp=window.webpackJsonp||[]).push([[51],{265:function(a,e,t){a.exports=t.p+"static/media/loading.557336d4.gif"},374:function(a,e,t){"use strict";t.r(e);var n=t(272),l=t(104),r=t(105),d=t(107),u=t(106),s=t(108),c=t(109),m=t(1),i=t.n(m),h=t(13),o=t(2),g=t(3),p=t(4),E=t(27),b=t(28),_=t(7),v=t(29),T=t(8),S=t(26),f=t(5),k=t(25),P=t(14),j=t(9),A=t(10),D=t(12),y=t(269),C=t.n(y),O=t(268),K=t(265),w=t.n(K),I=function(a){function e(a){var t;return Object(l.a)(this,e),(t=Object(d.a)(this,Object(u.a)(e).call(this,a))).componentWillMount=function(){t.getData()},t.handleChange=function(a){return function(e){var l=parseInt(e.target.attributes.getNamedItem("data-number").value);if(1===l){var r=t.state.dataAll.map(function(l,r){var d=l;return a!==r?d:(1===t.state.dataTambah.tahun&&(d=Object(n.a)({},l,{target1_sumber_dana:e.target.value})),2===t.state.dataTambah.tahun&&(d=Object(n.a)({},l,{target2_sumber_dana:e.target.value})),3===t.state.dataTambah.tahun&&(d=Object(n.a)({},l,{target3_sumber_dana:e.target.value})),4===t.state.dataTambah.tahun&&(d=Object(n.a)({},l,{target4_sumber_dana:e.target.value})),5===t.state.dataTambah.tahun&&(d=Object(n.a)({},l,{target5_sumber_dana:e.target.value})),t.setState({dataPilih:d}),d)});t.setState({dataAll:r})}if(2===l){var d=t.state.dataAll.map(function(l,r){var d=l;return a!==r?d:(1===t.state.dataTambah.tahun&&(d=Object(n.a)({},l,{target1_catatan:e.target.value})),2===t.state.dataTambah.tahun&&(d=Object(n.a)({},l,{target2_catatan:e.target.value})),3===t.state.dataTambah.tahun&&(d=Object(n.a)({},l,{target3_catatan:e.target.value})),4===t.state.dataTambah.tahun&&(d=Object(n.a)({},l,{target4_catatan:e.target.value})),5===t.state.dataTambah.tahun&&(d=Object(n.a)({},l,{target5_catatan:e.target.value})),t.setState({dataPilih:d}),d)});t.setState({dataAll:d})}}},t.changePesan=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";null===a?t.setState({pesan:""}):t.setState({pesan:i.a.createElement(h.a,{color:e},a)}),setTimeout(function(){t.setState({pesan:""})},3e3)},t.setData=function(a){a.status&&t.setState({dataAll:a.data,jumlahPage:a.jumlahPage,jumlahAll:a.jumlahAll,dataTambah:a.dataTambah,dataOpd:a.dataOpd}),a.data.length>0?t.rpjmdTahun=parseInt(a.data[0].rpjmd_tahun):t.rpjmdTahun=0,console.log(t.state.dataTambah.tahun)},t.getData=function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.setState({loading:!0});var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("rpjmd",localStorage.getItem("codexv-rpjmd")),e.append("search",t.state.pencarian),C.a.post(O.apiRoot+t.link+"/page-"+a,e).then(function(a){t.setData(a.data),console.log(a),t.setState({loading:!1})}).catch(function(a){console.log(a),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.getKegiatan=function(a,e,n){t.setState({loading:!0});var l=new FormData;l.append("session",localStorage.getItem("codexv-session")),l.append("urusan",a),l.append("bidang",e),l.append("program",n),C.a.post(O.apiRoot+"opd/get-data/kegiatan",l).then(function(a){a.data.status&&t.setState({dataTambah:a.data.data}),t.setState({loading:!1}),console.log(a)}).catch(function(a){console.log(a),t.setState({loading:!1})})},t.handleSubmit=function(){t.setState({loading:!0});var a="";"Edit"===t.state.aksi?a=O.apiRoot+t.link+"/update":"Tambah"===t.state.aksi&&(a=O.apiRoot+t.link+"/create");var e=new FormData;e.append("session",localStorage.getItem("codexv-session")),e.append("rpjmd",localStorage.getItem("codexv-rpjmd")),e.append("perumusan_program_id",t.state.dataPilih.perumusan_program_id),e.append("target"+t.state.dataTambah.tahun+"_sumber_dana",t.state.dataPilih["target"+t.state.dataTambah.tahun+"_sumber_dana"]),e.append("target"+t.state.dataTambah.tahun+"_catatan",t.state.dataPilih["target"+t.state.dataTambah.tahun+"_catatan"]),e.append("tahun",t.state.dataTambah.tahun),C.a.post(a,e,{headers:{"Content-Type":"multipart/form-data"}}).then(function(a){a.data.status?(t.modalCreateClose(),t.getData(t.state.page),t.changePesan(a.data.pesan)):t.changePesan(a.data.pesan,"warning"),t.setState({loading:!1}),console.log(a.data)}).catch(function(a){console.log(a),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleDelete=function(){t.setState({loading:!0});var a=new FormData;a.append("session",localStorage.getItem("codexv-session")),a.append("rpjmd",localStorage.getItem("codexv-rpjmd")),a.append("perumusan_program_id",t.state.dataPilih.perumusan_program_id),C.a.post(O.apiRoot+t.link+"/delete",a).then(function(a){a.data.status?(t.modalDelete(),t.getData(t.state.page),t.changePesan(a.data.pesan)):t.changePesan(a.data.pesan,"warning"),t.setState({loading:!1}),console.log(a)}).catch(function(a){console.log(a),t.setState({loading:!1}),t.changePesan("Tidak dapat terhubung pada server!","danger")})},t.handleCariSubmit=function(a){a.preventDefault(),t.getData()},t.changePage=function(a){t.setState({page:a}),t.getData(a)},t.pageNation=function(){var a=[];t.state.page>1?a.push(i.a.createElement(o.a,{onClick:function(){return t.changePage(t.state.page-1)},key:0},i.a.createElement(g.a,{previous:!0,tag:"button"},"Prev"))):a.push(i.a.createElement(o.a,{disabled:!0,key:0},i.a.createElement(g.a,{previous:!0,tag:"button"},"Prev")));for(var e=!1,n=!1,l=function(l){n=e,e=!1,l+2>=t.state.page&&l-2<=t.state.page&&(e=!0),1!==l&&l!==t.state.jumlahPage||(e=!0),e?l===t.state.page?a.push(i.a.createElement(o.a,{active:!0,key:l},i.a.createElement(g.a,{tag:"button"},l))):a.push(i.a.createElement(o.a,{key:l,onClick:function(){return t.changePage(l)}},i.a.createElement(g.a,{tag:"button"},l))):n!==e&&a.push(i.a.createElement(o.a,{key:l,disabled:!0},i.a.createElement(g.a,{tag:"button"},"...")))},r=1;r<=t.state.jumlahPage;r++)l(r);return t.state.page<t.state.jumlahPage?a.push(i.a.createElement(o.a,{onClick:function(){return t.changePage(t.state.page+1)},key:t.state.jumlahPage+2},i.a.createElement(g.a,{next:!0,tag:"button"},"Next"))):a.push(i.a.createElement(o.a,{disabled:!0,key:t.state.jumlahPage+2},i.a.createElement(g.a,{next:!0,tag:"button"},"Next"))),i.a.createElement(p.a,null,a)},t.dataPilihAwal={id:0,name:"0",ageid:0},t.state={loading:!1,dataAll:[],jumlahPage:1,modalCreate:!1,modalDelete:!1,modalPesan:!1,dataPilih:t.dataPilihAwal,dataTambah:[],dataOpd:[],pencarian:"",page:1,aksi:"Tambah",name:"",age:0,edit:0},document.title="Menyusun RKPD Awal",t.link="opd/menyusun/rkpd-awal",t.modalDelete=t.modalDelete.bind(Object(c.a)(Object(c.a)(t))),t.handlePencarianChange=t.handlePencarianChange.bind(Object(c.a)(Object(c.a)(t))),t}return Object(s.a)(e,a),Object(r.a)(e,[{key:"handlePencarianChange",value:function(a){this.setState({pencarian:a.target.value})}},{key:"modalCreateClose",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({modalCreate:!1})}},{key:"modalCreate",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];0===a.length?this.setState({dataPilih:this.dataPilihAwal}):(this.setState({dataPilih:a}),console.log(a))}},{key:"modalDelete",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.setState({modalDelete:!this.state.modalDelete,dataPilih:a})}},{key:"tambah",value:function(){this.setState({dataPilih:this.dataPilihAwal,edit:0,page:this.state.jumlahPage}),this.handleSubmit()}},{key:"edit",value:function(a){0!==this.state.edit&&this.simpan(a),this.setState({dataPilih:this.dataPilihAwal,edit:a.idAll})}},{key:"simpan",value:function(a){this.setState({edit:0,aksi:"Tambah"}),this.handleSubmit(),console.log(this.state.dataPilih)}},{key:"isi",value:function(){var a=this;return this.state.loading?i.a.createElement("div",null,i.a.createElement("img",{src:w.a,alt:"logo"})):i.a.createElement("div",null,this.state.pesan,i.a.createElement(E.a,null,i.a.createElement(b.a,{xs:"128",md:"10"}),i.a.createElement(b.a,{xs:"12",md:"2"})),i.a.createElement(_.a,{responsive:!0,striped:!0,bordered:!0},i.a.createElement("thead",{style:{textAlign:"center",backgroundColor:"#0066ff",color:"white"}},i.a.createElement("tr",null,i.a.createElement("th",{rowSpan:"2",colSpan:"4"},"Kode"),i.a.createElement("th",{rowSpan:"2"},"Urusan / Bidang / Program / Kegiatan"),i.a.createElement("th",{colSpan:"2"},"Indikator Kinerka (Outcome)"),i.a.createElement("th",{colSpan:"5"},"Tahun ",this.rpjmdTahun+parseInt(this.state.dataTambah.tahun)-1," (Tahun Berjalan)"),i.a.createElement("th",{rowSpan:"2"},"Catatan Penting"),i.a.createElement("th",{colSpan:"3"},"Tahun ",this.rpjmdTahun+parseInt(this.state.dataTambah.tahun)," (Tahun Berikutnya)"),i.a.createElement("th",{rowSpan:"2"},"Aksi")),i.a.createElement("tr",null,i.a.createElement("th",null,"Program"),i.a.createElement("th",null,"Kegiatan"),i.a.createElement("th",null,"Lokasi"),i.a.createElement("th",{colSpan:"2"},"Target capaian kinerja"),i.a.createElement("th",null,"Kebutuhan Dana/ pagu indikatif (Rp)"),i.a.createElement("th",null,"Sumber Dana"),i.a.createElement("th",{colSpan:"2"},"Target capaian kinerja"),i.a.createElement("th",null,"Kebutuhan Dana/ pagu indikatif (Rp)")),i.a.createElement("tr",null,i.a.createElement("th",{colSpan:"4"},"(1)"),i.a.createElement("th",null,"(2)"),i.a.createElement("th",{colSpan:"2"},"(3)"),i.a.createElement("th",null,"(4)"),i.a.createElement("th",{colSpan:"2"},"(5)"),i.a.createElement("th",null,"(6)"),i.a.createElement("th",null,"(7)"),i.a.createElement("th",null,"(8)"),i.a.createElement("th",{colSpan:"2"},"(9)"),i.a.createElement("th",null,"(10)"),i.a.createElement("th",null,"(11)"))),i.a.createElement("tbody",null,this.state.dataAll.map(function(e,t){return e.idAll!==a.state.edit?0===e.Kd_Keg?e?i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.Kd_Urusan),i.a.createElement("td",null,e.Kd_Bidang),i.a.createElement("td",null,e.Kd_Prog),i.a.createElement("td",null,e.Kd_Keg),i.a.createElement("td",null,e.nama_jenis),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null),i.a.createElement("td",null)):null:e?i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.Kd_Urusan),i.a.createElement("td",null,e.Kd_Bidang),i.a.createElement("td",null,e.Kd_Prog),i.a.createElement("td",null,e.Kd_Keg),i.a.createElement("td",null,e.nama_jenis),i.a.createElement("td",null,e.outcome),i.a.createElement("td",null,e.outcome_kegiatan),i.a.createElement("td",null,e.lokasi),i.a.createElement("td",null,e["target"+a.state.dataTambah.tahun+"_tahun"]),i.a.createElement("td",null,e["target"+a.state.dataTambah.tahun+"_satuan_nama"]),i.a.createElement("td",null,e["target"+a.state.dataTambah.tahun+"_harga"]),i.a.createElement("td",null,e["target"+a.state.dataTambah.tahun+"_sumber_dana"]),i.a.createElement("td",null,e["target"+a.state.dataTambah.tahun+"_catatan"]),i.a.createElement("td",null,e["target"+(parseInt(a.state.dataTambah.tahun)+1)+"_tahun"]),i.a.createElement("td",null,e["target"+(parseInt(a.state.dataTambah.tahun)+1)+"_satuan_nama"]),i.a.createElement("td",null,e["target"+(parseInt(a.state.dataTambah.tahun)+1)+"_harga"]),i.a.createElement("td",null,i.a.createElement(v.a,{color:"info",onClick:function(){a.setState({aksi:"Edit"}),a.edit(e)},className:"mr-1"},"Edit"))):null:e?i.a.createElement("tr",{key:t},i.a.createElement("td",null,e.Kd_Urusan),i.a.createElement("td",null,e.Kd_Bidang),i.a.createElement("td",null,e.Kd_Prog),i.a.createElement("td",null,e.Kd_Keg),i.a.createElement("td",null,e.nama_jenis),i.a.createElement("td",null,e.outcome),i.a.createElement("td",null,e.outcome_kegiatan),i.a.createElement("td",null,e.lokasi),i.a.createElement("td",null,e["target"+a.state.dataTambah.tahun+"_tahun"]),i.a.createElement("td",null,e["target"+a.state.dataTambah.tahun+"_satuan_nama"]),i.a.createElement("td",null,e["target"+a.state.dataTambah.tahun+"_harga"]),i.a.createElement("td",null,i.a.createElement(T.a,{type:"text",value:e["target"+a.state.dataTambah.tahun+"_sumber_dana"],"data-number":"1",onChange:a.handleChange(t)})),i.a.createElement("td",null,i.a.createElement(T.a,{type:"text",value:e["target"+a.state.dataTambah.tahun+"_catatan"],"data-number":"2",onChange:a.handleChange(t)})),i.a.createElement("td",null,e["target"+(parseInt(a.state.dataTambah.tahun)+1)+"_tahun"]),i.a.createElement("td",null,e["target"+(parseInt(a.state.dataTambah.tahun)+1)+"_satuan_nama"]),i.a.createElement("td",null,e["target"+(parseInt(a.state.dataTambah.tahun)+1)+"_harga"]),i.a.createElement("td",null,i.a.createElement(v.a,{color:"success",onClick:function(){a.simpan(e)},className:"mr-1"},"Simpan"))):null}))),this.pageNation())}},{key:"render",value:function(){return i.a.createElement("div",{className:"animated fadeIn"},i.a.createElement(E.a,null,i.a.createElement(b.a,{xs:"12",lg:"12"},i.a.createElement(S.a,null,i.a.createElement(f.a,null,i.a.createElement("i",{className:"fa fa-align-justify"})," ",document.title),i.a.createElement(k.a,null,i.a.createElement("h5",{style:{textAlign:"center"}},"RANCANGAN AWAL"),i.a.createElement("h5",{style:{textAlign:"center"}},"RENCANA KERJA PEMERINTAH DAERAH TAHUN ",this.rpjmdTahun+parseInt(this.state.dataTambah.tahun)-1," ( Tahun Berjalan)"),i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",null,"Urusan"),i.a.createElement("td",null,":"),i.a.createElement("td",null,this.state.dataOpd.Nm_Urusan)),i.a.createElement("tr",null,i.a.createElement("td",null,"Bidang"),i.a.createElement("td",null,":"),i.a.createElement("td",null,this.state.dataOpd.Nm_Bidang)),i.a.createElement("tr",null,i.a.createElement("td",null,"Unit"),i.a.createElement("td",null,":"),i.a.createElement("td",null,this.state.dataOpd.Nm_Unit)),i.a.createElement("tr",null,i.a.createElement("td",null,"Sub"),i.a.createElement("td",null,":"),i.a.createElement("td",null,this.state.dataOpd.Nm_Sub_Unit)))),i.a.createElement("hr",null),i.a.createElement(P.a,{isOpen:this.state.modalDelete,toggle:this.modalDelete,className:this.props.className},i.a.createElement(j.a,{toggle:this.modalDelete},"Hapus Data"),i.a.createElement(A.a,null,"Apakah Anda Yakin Menghapus Data?"),i.a.createElement(D.a,null,i.a.createElement(v.a,{color:"danger",onClick:this.handleDelete},"Ya"),i.a.createElement(v.a,{color:"secondary",onClick:this.modalDelete},"Batal"))),this.isi())))))}}]),e}(m.Component);e.default=I}}]);
//# sourceMappingURL=51.ad90bb2b.chunk.js.map